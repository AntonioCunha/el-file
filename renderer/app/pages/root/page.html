<lib-drawer-container>

  <elfile-toolbar
    (openPrefs)=prefsDrawer.open()
    [layout]="ctrl.layout$ | async">
  </elfile-toolbar>

  <elfile-splittable
    [fs]="ctrl.fs$ | async"
    [layout]="ctrl.layout$ | async"
    [prefs]="ctrl.prefs$ | async"
    [views]="ctrl.views$ | async">
  </elfile-splittable>

  <elfile-statusbar>
  </elfile-statusbar>

  <lib-drawer-panel
    #propsDrawer
    position="left">

    <elfile-props
      [desc]="editDesc">
    </elfile-props>

  </lib-drawer-panel>

  <lib-drawer-panel
    #tabDrawer
    position="top">

    <elfile-tab
      [noRemove]="noRemoveTab"
      [tab]="editTab">
    </elfile-tab>

  </lib-drawer-panel>

  <lib-drawer-panel
    #prefsDrawer
    position="right">

    <elfile-prefs
      [prefs]="ctrl.prefs$ | async"
      #prefs>
    </elfile-prefs>

  </lib-drawer-panel>

  <lib-drawer-panel
    #viewDrawer
    position="right">

    <elfile-view
      [view]="editView"
      [viewID]="editViewID"
      #view>
    </elfile-view>

  </lib-drawer-panel>

</lib-drawer-container>

<elfile-root-ctrl
  [prefsForm]="prefs.prefsForm.valueChanges | async"
  [viewForm]="view.viewForm.valueChanges | async"
  #ctrl>
</elfile-root-ctrl>
